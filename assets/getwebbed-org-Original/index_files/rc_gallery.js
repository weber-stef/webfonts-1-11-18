function resizeGallery(){jQuery(".rc_gallery").each(function(){var a=jQuery(this).attr("data-start-height"),b=jQuery(this).attr("data-margin-size"),c=jQuery(this).width()-1,d=0,e=new Array,f=new Array,g=new Array,h=new Array,i=0,j=0,m=jQuery(this).find(".rc_galleryimg").length;jQuery(this).find(".rc_galleryimg").each(function(){var k=jQuery(this).attr("data-width"),l=jQuery(this).attr("data-height");f[i]=k/l,jQuery(this).height(a),jQuery(this).width(a/l*k),d+(jQuery(this).width()+2*b)/2>=c?(h[j]=d,j++,d=jQuery(this).width()+2*b):(d=d+jQuery(this).width()+2*b,i==m-1&&d<c?h[j]=c:h[j]=d),e[i]=jQuery(this).width()+2*b,g[i]=j,i++});for(var m=e.length,n=new Array,o=new Array,p=-1,q=0;q<=m;q++){var r=e[q],s=g[q],t=h[s];t||(t=c-2*b),n[q]=r/t*c-2*b,n[q]+2*b>c-2*b&&(n[q]=c-2*b),p!=s&&(o[s]=(n[q]-2*b)/f[q],p=s)}i=0,jQuery(this).find(".rc_galleryimg").each(function(){jQuery(this).width(n[i]),jQuery(this).height(o[g[i]]),i++})})}jQuery(document).ready(function(){resizeGallery()}),jQuery(window).resize(function(){resizeGallery()});